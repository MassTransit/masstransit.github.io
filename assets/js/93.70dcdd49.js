(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{512:function(e,s,t){"use strict";t.r(s);var a=t(34),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_7-1-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-5"}},[e._v("#")]),e._v(" 7.1.5")]),e._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#health-checks"}},[e._v("Health Checks")])]),t("li",[t("a",{attrs:{href:"#azure-service-bus-session-saga-repository"}},[e._v("Azure Service Bus Session Saga Repository")])]),t("li",[t("a",{attrs:{href:"#published-message-scheduler-messages"}},[e._v("Published Message Scheduler Messages")])]),t("li",[t("a",{attrs:{href:"#state-machine-event-topology"}},[e._v("State Machine Event Topology")])]),t("li",[t("a",{attrs:{href:"#kafka-producer-registration"}},[e._v("Kafka Producer Registration")])]),t("li",[t("a",{attrs:{href:"#addgenericrequestclient"}},[e._v("AddGenericRequestClient")])]),t("li",[t("a",{attrs:{href:"#use-message-lifetime-scope-faults"}},[e._v("Use Message(Lifetime) Scope Faults")])]),t("li",[t("a",{attrs:{href:"#kafka-event-hub-checkpoint-concurrency-resolved"}},[e._v("Kafka / Event Hub Checkpoint Concurrency Resolved")])]),t("li",[t("a",{attrs:{href:"#rawjsonserializer-message-headers"}},[e._v("RawJsonSerializer Message Headers")])]),t("li",[t("a",{attrs:{href:"#amazon-sns"}},[e._v("Amazon SNS")])])])]),t("p"),e._v(" "),t("h2",{attrs:{id:"health-checks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#health-checks"}},[e._v("#")]),e._v(" Health Checks")]),e._v(" "),t("p",[e._v("Disconnected receive endpoints, which were connected using "),t("code",[e._v("ConnectReceiveEndpoint")]),e._v(" were staying in the health check list and showing up as degraded after being disconnected.")]),e._v(" "),t("h2",{attrs:{id:"azure-service-bus-session-saga-repository"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#azure-service-bus-session-saga-repository"}},[e._v("#")]),e._v(" Azure Service Bus Session Saga Repository")]),e._v(" "),t("p",[e._v("The saga repository was upgraded to the level of the others, using the same underlying components – which means it should now support property dependency injection of state machine activities.")]),e._v(" "),t("h2",{attrs:{id:"published-message-scheduler-messages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#published-message-scheduler-messages"}},[e._v("#")]),e._v(" Published Message Scheduler Messages")]),e._v(" "),t("p",[e._v("The messages published to Quartz were using the wrong message type, which wasn't really an issue with RabbitMQ, but non-polymorphic brokers would not get the message to the scheduler.")]),e._v(" "),t("h2",{attrs:{id:"state-machine-event-topology"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state-machine-event-topology"}},[e._v("#")]),e._v(" State Machine Event Topology")]),e._v(" "),t("p",[e._v("A state machine saga can now specify events that do not configure the consume topology. This will eliminate excessive exchanges/topics for directed events that are sent to the saga such as responses. The option is specified during event configuration:")]),e._v(" "),t("div",{staticClass:"language-cs extra-class"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("Event")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" WaitTimeout"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" x "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("ConfigureConsumeTopology "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("h2",{attrs:{id:"kafka-producer-registration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafka-producer-registration"}},[e._v("#")]),e._v(" Kafka Producer Registration")]),e._v(" "),t("p",[e._v("The Kafka registration methods were changed from method chaining to nested closures, to be consistent. This also allows the "),t("em",[e._v("context")]),e._v(" to be used to resolve dependencies (such as the Confluent schema registry client).")]),e._v(" "),t("h2",{attrs:{id:"addgenericrequestclient"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#addgenericrequestclient"}},[e._v("#")]),e._v(" AddGenericRequestClient")]),e._v(" "),t("p",[e._v("Users of Microsoft DI can specify "),t("code",[e._v("services.AddGenericRequestClient()")]),e._v(" to automatically resolve any request client type (requests will be published).")]),e._v(" "),t("h2",{attrs:{id:"use-message-lifetime-scope-faults"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#use-message-lifetime-scope-faults"}},[e._v("#")]),e._v(" Use Message(Lifetime) Scope Faults")]),e._v(" "),t("p",[e._v("Multiple faults were being published in combination with retry, the outbox, and message lifetime scope filters. Edge case, but the issue was resolved.")]),e._v(" "),t("h2",{attrs:{id:"kafka-event-hub-checkpoint-concurrency-resolved"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafka-event-hub-checkpoint-concurrency-resolved"}},[e._v("#")]),e._v(" Kafka / Event Hub Checkpoint Concurrency Resolved")]),e._v(" "),t("p",[e._v("The issue with non-deterministic checkpoints when using concurrent event consumption was resolved.")]),e._v(" "),t("h2",{attrs:{id:"rawjsonserializer-message-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rawjsonserializer-message-headers"}},[e._v("#")]),e._v(" RawJsonSerializer Message Headers")]),e._v(" "),t("p",[e._v("The RawJsonSerializer was improperly transferred transport headers from the inbound message to outgoing messages. This was causing exceptions, such as invalid table value, using RabbitMQ and may have been a problem with other brokers.")]),e._v(" "),t("h2",{attrs:{id:"amazon-sns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#amazon-sns"}},[e._v("#")]),e._v(" Amazon SNS")]),e._v(" "),t("p",[e._v("GroupId/DeduplicationId is now set on published (topic) messages. Previously it was only set on Sent (queue) messages.")])])}),[],!1,null,null,null);s.default=r.exports}}]);